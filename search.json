[{"path":"/articles/quick_charts.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Producing charts available on Fingertips","text":"vignette demonstrates create charts available package. names functions match name chart Fingertips.","code":""},{"path":"/articles/quick_charts.html","id":"a-note-on-ordering-within-the-charts","dir":"Articles","previous_headings":"Introduction","what":"A note on ordering within the charts","title":"Producing charts available on Fingertips","text":"charts produced, generally, order data alphabetically. static map section compare areas, worked examples reordering factor levels presented required order legends.","code":""},{"path":"/articles/quick_charts.html","id":"libraries","dir":"Articles","previous_headings":"","what":"Libraries","title":"Producing charts available on Fingertips","text":"","code":"library(fingertipscharts) library(dplyr) library(tidyr) # library(webshot)"},{"path":"/articles/quick_charts.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Producing charts available on Fingertips","text":"function plots Overview view (also known Tartan Rug). charts vignette, starting one, use function called create_test_data() packages generate dummy dataset. data structure data exported fingertips_data() function fingertipsR package. overview() function works:","code":"region <- \"PAC19\" top_names <- c(\"C001\", region) dfdom <- create_test_data() %>%         filter((AreaCode %in% top_names |                                 ParentAreaCode == region)) %>%         mutate(Value = round(Value, 1)) p <- overview(data = dfdom,               area = AreaCode,               indicator = IndicatorName,               value = Value,               fill = Significance,               timeperiod = Timeperiod,               top_areas = top_names, wrap_length = 40,               value_label_size = 0.7) p"},{"path":"/articles/quick_charts.html","id":"compare-indicators","dir":"Articles","previous_headings":"","what":"Compare indicators","title":"Producing charts available on Fingertips","text":"function helps produce scatter plot displayed Fingertips. First data needs changed correct format. two variables plotted need separate fields. pivot_wider() function tidyr package demonstrates : compare_indicators() function works:","code":"df <- create_test_data() %>%   filter(IndicatorName %in% c(\"Indicator 1\", \"Indicator 2\")) %>%   select(IndicatorName, AreaCode, Value) %>%   mutate(IndicatorName = gsub(\" \", \"\", IndicatorName)) %>%   pivot_wider(names_from = IndicatorName,               values_from = Value) p <- compare_indicators(data = df,                         x = Indicator1,                         y = Indicator2,                         xlab = \"This is indicator 1\",                         ylab = \"This is indicator 2\",                         highlight = c(\"C001\", \"AC101\"),                         area = AreaCode,                         add_R2 = TRUE) p"},{"path":"/articles/quick_charts.html","id":"maps","dir":"Articles","previous_headings":"","what":"Maps","title":"Producing charts available on Fingertips","text":"package provides interactive static maps. shape files need sources ONS Geography Portal. , click API button , using Counties Unitary Authorities example, use GeoJSON address string input ons_api parameter.","code":"ons_api <- \"https://opendata.arcgis.com/datasets/687f346f5023410ba86615655ff33ca9_4.geojson\""},{"path":"/articles/quick_charts.html","id":"static","dir":"Articles","previous_headings":"Maps","what":"Static","title":"Producing charts available on Fingertips","text":"Note, plotting chart, levels field determining fill polygons need reordered, aren’t, ordered alphabetically legend: default map type static:","code":"ordered_levels <- c(\"Better\",                     \"Similar\",                     \"Worse\",                     \"Not compared\") df <- mapdata %>%         mutate(Significance =                        factor(Significance,                               levels = ordered_levels)) p <- fingertipscharts::map(data = df,                     ons_api = ons_api,                     area_code = AreaCode,                     fill = Significance,                     title = \"Map title\",                     subtitle = \"Map subtitle\",                     copyright_size = 3) p"},{"path":"/articles/quick_charts.html","id":"interactive","dir":"Articles","previous_headings":"Maps","what":"Interactive","title":"Producing charts available on Fingertips","text":"also possible interactive maps. Note, work value parameter must included subtitle doesn’t work.","code":"p <- map(df,          ons_api = ons_api,          area_code = AreaCode,          fill = Significance,          type = \"interactive\",          value = Value,          name_for_label = AreaName,          title = \"Map title<br>with a line break\") p"},{"path":"/articles/quick_charts.html","id":"trends","dir":"Articles","previous_headings":"","what":"Trends","title":"Producing charts available on Fingertips","text":"function allows users plot trends graph. dummy dataset slightly manipulated extend years. significance prescribed based whether confidence intervals overlap country value. example use trends() function:","code":"df <- create_test_data() %>%         arrange(IndicatorName) %>%         mutate(Timeperiod = rep(c(\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"),                                 each = 111)) country_val <- df %>%   filter(AreaCode == \"C001\") %>%   select(Timeperiod, Country_val = Value)  df <- df %>%   left_join(country_val, by = \"Timeperiod\") %>%   mutate(Significance = case_when(     LCI > Country_val ~ \"Higher\",     UCI < Country_val ~ \"Lower\",     TRUE ~ \"Similar\"   )) p <- trends(df,             timeperiod = Timeperiod,             value = Value,             area = AreaCode,             comparator = \"C001\",             area_name = \"AC103\",             fill = Significance,             lowerci = LCI,             upperci = UCI,             title = \"Title of graph\",             subtitle = \"AC103 compared to C001\",             xlab = \"Year\",             ylab = \"Unit of measurement\") p"},{"path":"/articles/quick_charts.html","id":"compareareas","dir":"Articles","previous_headings":"","what":"Compare areas","title":"Producing charts available on Fingertips","text":"code filters dummy dataset single region parent, child areas within region. Note, plotting chart, levels field determining fill bars need reordered, aren’t, ordered alphabetically legend: compare_areas function makes plotting compare areas chart straight forward.","code":"region <- \"PAC10\" top_names <- c(\"C001\", region) df <- create_test_data() %>%   filter(IndicatorName == \"Indicator 3\",          (ParentAreaCode == region |             AreaCode %in% top_names)) ordered_levels <- c(\"Better\",                     \"Similar\",                     \"Worse\",                     \"Not compared\") df <- df %>%         mutate(Significance =                        factor(Significance,                               levels = ordered_levels)) p <- compare_areas(df,                    AreaCode,                    Value,                       fill = Significance,                       lowerci = LCI,                       upperci = UCI,                       order = \"desc\",                       top_areas = top_names,                       title = unique(df$IndicatorName)) p"},{"path":"/articles/quick_charts.html","id":"area-profiles","dir":"Articles","previous_headings":"","what":"Area profiles","title":"Producing charts available on Fingertips","text":"area profiles image created using area_profiles() function.","code":"dfspine <- create_test_data() p <- area_profiles(dfspine,                    value = Value,                    count = Count,                    area_code = AreaCode,                    local_area_code = \"AC110\",                    indicator = IndicatorName,                    timeperiod = Timeperiod,                    trend = Trend,                    polarity = Polarity,                    significance = Significance,                    area_type = AreaType,                    cols = \"fingertips\",                    median_line_area_code = \"C001\",                    comparator_area_code = \"PAC11\",                    datatable = TRUE,                    header_positions = c(-1.2, -0.9, -0.63,                                         -0.48, -0.36, -0.21,                                         -0.05, 1.08),                    relative_domain_text_size = 0.75,                    relative_text_size = 1.2,                    bar_width = 0.68,                    horizontal_arrow_multiplier = 0.7) p"},{"path":"/articles/quick_charts.html","id":"population","dir":"Articles","previous_headings":"","what":"Population","title":"Producing charts available on Fingertips","text":"function provides ability draw traditional population pyramid. Note ordering age bands defined prior data provided population() function: function works:","code":"set.seed(1234) agelevels <- c(\"0-4\", \"5-9\",\"10-14\",\"15-19\",                \"20-24\",\"25-29\",\"30-34\",                \"35-39\",\"40-44\",\"45-49\",                \"50-54\",\"55-59\",\"60-64\",                \"65-69\",\"70-74\",\"75-79\",                \"80-84\",\"85-89\",\"90+\") local_males <- dnorm(seq(1, 19), mean = 5, sd = 5) * 1e5 local_females <- dnorm(seq(1, 19), mean = 4, sd = 5) * 1e5 region_males <- dnorm(seq(1, 19), mean = 5, sd = 7) * 1e5 region_females <- dnorm(seq(1, 19), mean = 4.5, sd = 6.5) * 1e5 country_males <- dnorm(seq(1, 19), mean = 4, sd = 3) * 1e5 country_females <- dnorm(seq(1, 19), mean = 5, sd = 3) * 1e5  pops <- data.frame(Value = c(local_males,                              local_females,                              region_males,                              region_females,                              country_males,                              country_females),                    AreaName = c(rep(\"Local\", 38),                                 rep(\"Region\", 38),                                 rep(\"Country\", 38)),                    Sex = rep(c(rep(\"Male\", 19),                               rep(\"Female\", 19)),                              times = 3),                    stringsAsFactors = FALSE) %>%   mutate(Age = factor(rep(agelevels, 6),                           levels = agelevels)) p <- population(pops,                 value = Value,                 sex = Sex,                 age = Age,                 area = AreaName,                 area_name = \"Local\",                 comparator_1 = \"Country\",                 comparator_2 = \"Region\",                 title = \"Age Profile\",                 subtitle = \"Area population for this time period\",                 xlab = \"% of total population\") p"},{"path":"/articles/quick_charts.html","id":"box-plots","dir":"Articles","previous_headings":"","what":"Box plots","title":"Producing charts available on Fingertips","text":"Box plots can also drawn. function works. Note, levels factor timeperiod parameter may need reordered, determines order along x-axis:","code":"df <- create_test_data() %>%         arrange(IndicatorName) %>%         mutate(Timeperiod = rep(c(\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"),                                 each = 111)) p <- box_plots(df,                timeperiod = Timeperiod,                value = Value,                title = \"Box plot for indicator\",                subtitle = \"Add a subtitle here\",                ylab = \"Unit of measurement\") p"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sebastian Fox. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Fox S (2023). fingertipscharts: Produce Charts See Fingertips Website. https://fingertips.phe.org.uk, https://ukhsa-collaboration.github.io/fingertipscharts/.","code":"@Manual{,   title = {fingertipscharts: Produce Charts that you See on the Fingertips Website},   author = {Sebastian Fox},   year = {2023},   note = {https://fingertips.phe.org.uk, https://ukhsa-collaboration.github.io/fingertipscharts/}, }"},{"path":"/index.html","id":"fingertipscharts","dir":"","previous_headings":"","what":"Produce Charts that you See on the Fingertips Website","title":"Produce Charts that you See on the Fingertips Website","text":"R package help users easily reproduce charts displayed Office Health Improvement Disparities’ Fingertips data tool. Along fingertipsR package, package can used help users bring data website outputs.","code":""},{"path":[]},{"path":"/index.html","id":"with-remotes","dir":"","previous_headings":"Installation","what":"With remotes","title":"Produce Charts that you See on the Fingertips Website","text":"can install latest development version github using remotes:","code":"# install.packages(\"remotes\") remotes::install_github(\"PublicHealthEngland/fingertipscharts\",                         build_vignettes = TRUE)"},{"path":"/index.html","id":"example-of-some-visualisations","dir":"","previous_headings":"","what":"Example of some visualisations","title":"Produce Charts that you See on the Fingertips Website","text":"examples visualisations package provides. expanded packages vignette.","code":""},{"path":"/index.html","id":"trends","dir":"","previous_headings":"Example of some visualisations","what":"Trends","title":"Produce Charts that you See on the Fingertips Website","text":"","code":"library(fingertipscharts) library(dplyr)  # Create the data to plot df <- create_test_data() %>%         arrange(IndicatorName) %>%         mutate(Timeperiod = rep(c(\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"),                                 each = 111)) country_val <- df %>%   filter(AreaCode == \"C001\") %>%   select(Timeperiod, Country_val = Value)  # add the signifance for the local area points compared to the comparator df <- df %>%   left_join(country_val, by = \"Timeperiod\") %>%   mutate(Significance = case_when(     LCI > Country_val ~ \"Higher\",     UCI < Country_val ~ \"Lower\",     TRUE ~ \"Similar\"   ))  # plot the trends  p <- trends(df,             timeperiod = Timeperiod,             value = Value,             area = AreaCode,             comparator = \"C001\",             area_name = \"AC103\",             fill = Significance,             lowerci = LCI,             upperci = UCI,             title = \"Title of graph\",             subtitle = \"AC103 compared to C001\",             xlab = \"Year\",             ylab = \"Unit of measurement\") p"},{"path":"/index.html","id":"compare-indicators","dir":"","previous_headings":"Example of some visualisations","what":"Compare indicators","title":"Produce Charts that you See on the Fingertips Website","text":"","code":"# Create the data to plot, filtering for areas within a single parent, and also the parent and the national area region <- \"PAC10\" top_names <- c(\"C001\", region) df <- create_test_data() %>%   filter(IndicatorName == \"Indicator 3\",          (ParentAreaCode == region |             AreaCode %in% top_names))  # order the factor for the significance field so they appear in the legend in the desired order ordered_levels <- c(\"Better\",                     \"Similar\",                      \"Worse\",                     \"Not compared\") df <- df %>%         mutate(Significance =                         factor(Significance,                               levels = ordered_levels))  # plot compare areas chart p <- compare_areas(df,                    AreaCode,                     Value,                    fill = Significance,                    lowerci = LCI,                    upperci = UCI,                    order = \"desc\",                    top_areas = top_names,                    title = unique(df$IndicatorName)) p"},{"path":"/index.html","id":"area-profiles","dir":"","previous_headings":"","what":"Area profiles","title":"Produce Charts that you See on the Fingertips Website","text":"","code":"dfspine <- create_test_data() p <- area_profiles(dfspine,                    value = Value,                    count = Count,                    area_code = AreaCode,                    local_area_code = \"AC122\",                    indicator = IndicatorName,                    timeperiod = Timeperiod,                    trend = Trend,                    polarity = Polarity,                    significance = Significance,                    area_type = AreaType,                    median_line_area_code = \"C001\",                    comparator_area_code = \"PAC12\",                    datatable = TRUE,                    relative_domain_text_size = 0.75,                    relative_text_size = 1.2,                    bar_width = 0.68,                    indicator_label_nudgex = -0.1,                    show_dividers = \"outer\",                    header_positions = c(-1, -0.7, -0.44, -0.35, -0.25,                        -0.15, -0.05, 1.08)) p"},{"path":"/reference/area_profiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot spine chart — area_profiles","title":"Plot spine chart — area_profiles","text":"Returns ggplot spine chart","code":""},{"path":"/reference/area_profiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot spine chart — area_profiles","text":"","code":"area_profiles(   data,   value,   count,   area_code,   local_area_code,   indicator,   timeperiod,   trend = NA,   polarity,   significance,   area_type,   cols = \"fingertips\",   median_line_area_code = \"E92000001\",   comparator_area_code = NA,   bar_width = 0.75,   local_point_shape = 21,   local_point_outline = \"black\",   comparator_point_shape = 23,   comparator_point_outline = \"gray30\",   comparator_point_fill = \"gray30\",   relative_point_size = 1,   relative_text_size = 1,   header_positions = c(-1.83, -1.13, -0.53, -0.35, -0.25, -0.15, -0.05, 1.05),   header_labels = c(\"Indicator\", \"Trend\", \"Time\\nperiod\", \"Local\\ncount\",     \"Local\\nvalue\", \"England\\nvalue\", \"Worst/\\nLowest\", \"Best/\\nHighest\"),   indicator_label_nudgex = -0.075,   domain = no_domains,   relative_domain_text_size = 1,   show_dividers = \"none\",   datatable = TRUE,   datatable_line_height = 0.6,   dps = 1,   percent_display = 0.25,   arrow_length = 1,   arrow_thickness = 2,   arrow_head_length = arrow_length/3,   arrow_head_angle = 25,   horizontal_arrow_multiplier = 1 )"},{"path":"/reference/area_profiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot spine chart — area_profiles","text":"data data frame create spine chart . data frame contain records area types included chart (eg, plotting County & UA comparator region median line national, data frame contain records data). minimum field requirements data frame ; value, count, area_code, indicator, timeperiod, polarity, significance, area_type. See definitions fields value unquoted field name field containing values plotted count unquoted field name field count (numerator) stored. provided accompanying data table area_code unquoted field name field area codes stored (local_area_code, median_line_area_code comparator_area_code, using, exist field) local_area_code string; code area whose data presented indicator unquoted field name field field containing indicator labels. Take care errors occur indicator labels data exist multiple sub-categories (example, sex age) timeperiod unquoted field name field time period field. gets used accompanying data table trend unquoted field name field trend field; user want display trend information leave incomplete amend header_labels argument replacing \"Trend\" header \"\". Text within field contain one following words control arrows displayed; \"decreasing\", \"increasing\", \"significant change\", \"calculated\". text within field contain one following words control colour; \"better\", \"worse\", \"significant change\". none words appear string, words \"increasing\" \"decreasing\" used colour arrows different shades blue polarity unquoted field name field containing polarity information (currently handles \"applicable\", \"RAG - Low good\", \"RAG - High good\", \"BOB - Blue orange blue\") significance unquoted field name field describing statistical significance indicator. determines colour point within spine area. Colours built following significances; 'Better', '', 'Worse', 'compared', 'None', 'Higher', 'Similar', 'Lower'. Use cols argument colour significance values area_type unquoted field name field containing area type information. ensures vertabra plotted area types local_area area type (eg, plotting spine chart County & UA areas, regions national area types removed) cols named character vector cols applied significance field. names contain levels significance field data frame. Defaults Fingertips colours median_line_area_code string; area code median line. Defaults \"E92000001\" (England) comparator_area_code string; area code comparator point. Defaults NA bar_width numeric value; distance bars (0 1) local_point_shape numeric value; shape type local area point (defaults 21, circle). See ggplot2 shape types different values local_point_outline string; control colour outline local point spine chart comparator_point_shape numeric value; shape type regional area point (defaults 23, diamond). See ggplot2 shape types different values comparator_point_outline string; control colour outline regional point spine chart comparator_point_fill string; control fill colour regional point spine chart relative_point_size numeric value; control size points spine chart relative_text_size numeric value; control size text accompanying table header_positions numeric vector; used adjust columns data table overlapping. final value less 1. Must length 7, using trend argument, 8 otherwise. Defaults c(-1.83, -1.13, -.53, -.35, -.25, -.15, -0.05, 1.05) header_labels character vector; labels used titles columns data table. Must length 7, using trend argument, 8 otherwise. Defaults c(\"Indicator\", \"Trend\", \"Time period\", \"Local count\",\"Local value\", \"England value\", \"Worst/Lowest\",\"Best/Highest\") indicator_label_nudgex number; nudge placement indicator label x direction. Negative values nudge left domain unquoted field name field describing grouping domains wishing split spine chart domains relative_domain_text_size numeric; control text size domain labels (include.domains = TRUE) relative 1 show_dividers string; whether display horizontal lines indicators. Values can \"\" \"outer\". value generate lines datatable logical; default = TRUE, display data table alongside spine chart datatable_line_height number; height wrapped lines data table dps number; number decimal places displayed data table. default 1. Set NA input data percent_display number 0 1; percentage values needs exist spine display. Default 0.25 arrow_length number control length trend arrow arrow_thickness number control thickness trend arrow arrow_head_length number control length arrow head arrow_head_angle number control angle arrow head horizontal_arrow_multiplier number scale horizontal trend arrows. value 1 shorten arrows","code":""},{"path":"/reference/area_profiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot spine chart — area_profiles","text":"ggplot object containing spine chart","code":""},{"path":"/reference/area_profiles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot spine chart — area_profiles","text":"function draws bar chart (spine) plots   data table (datatable = TRUE) using geom_text. bar chart   always plotted 0 1 x scale, visible   output. column locations data table controlled   header_positions argument. adjust length bars   visualisation, amend header_positions argument. negative   first value vector goes header_positions,   condensed bar part visualisation . function filters area type   local area type calculates \"vertebra\" data.   Therefore, comparing outputs seen Fingertips   website, ensure perform preprocessing. example,   profiles display spine charts small areas, Isles Scilly,   removed spine produced.","code":""},{"path":"/reference/area_profiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot spine chart — area_profiles","text":"","code":"## An example with differing decimal places for individual indicators and no trend  library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union df <- create_test_data() %>% mutate(Value = case_when(         grepl(\"2$|4$|6$\", IndicatorName) ~ round(Value,1),         TRUE ~ round(Value, 0))) full_p <- area_profiles(df,                         value = Value,                         count = Count,                         area_code = AreaCode,                         local_area_code = \"AC122\",                         indicator = IndicatorName,                         timeperiod = Timeperiod,                         polarity = Polarity,                         significance = Significance,                         area_type = AreaType,                         median_line_area_code = \"C001\",                         comparator_area_code = \"PAC12\",                         datatable = TRUE,                         relative_domain_text_size = 0.75,                         relative_text_size = 1.2,                         bar_width = 0.68,                         indicator_label_nudgex = -0.1,                         show_dividers = \"outer\",                         header_positions = c(-1, -0.7, -0.44, -0.35, -0.25,                                              -0.15, -0.05, 1.08),                         header_labels = c(\"Indicator\", \"\",                                           \"Time\\nperiod\",                                           \"Local\\ncount\",\"Local\\nvalue\",                                           \"England\\nvalue\",                                           \"Worst/\\nLowest\",\"Best/\\nHighest\"),                         dps = NA) full_p   ## An example with domains and non-default indicator ordering  df <- create_test_data() label_order <- c(1, 2, 4, 3, 6, 5) df <- df %>%         mutate(IndicatorName = factor(IndicatorName,                                       levels = paste(\"Indicator\", label_order)))  p <- area_profiles(df,                    value = Value,                    count = Count,                    area_code = AreaCode,                    local_area_code = \"AC122\",                    indicator = IndicatorName,                    timeperiod = Timeperiod,                    trend = Trend,                    polarity = Polarity,                    significance = Significance,                    area_type = AreaType,                    median_line_area_code = \"C001\",                    comparator_area_code = \"PAC12\",                    datatable = TRUE,                    relative_domain_text_size = 0.75,                    relative_text_size = 1.2,                    bar_width = 0.68,                    indicator_label_nudgex = -0.1,                    show_dividers = \"outer\",                    header_positions = c(-1, -0.7, -0.53, -0.35, -0.25,                                         -0.15, -0.05, 1.05),                    domain = Domain ) p"},{"path":"/reference/box_plots.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a series of boxplots — box_plots","title":"Plot a series of boxplots — box_plots","text":"Plot series boxplots","code":""},{"path":"/reference/box_plots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a series of boxplots — box_plots","text":"","code":"box_plots(   data,   timeperiod,   value,   title = \"\",   subtitle = \"\",   xlab = \"\",   ylab = \"\" )"},{"path":"/reference/box_plots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a series of boxplots — box_plots","text":"data data.frame tibble fed ggplot functions. object contain fields used arguments within function timeperiod unquoted field name field containing time period value unquoted field name field containing values indicator plotted title string; title chart subtitle string; subtitle chart xlab string; x-axis title ylab string; y-axis title","code":""},{"path":"/reference/box_plots.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a series of boxplots — box_plots","text":"ggplot boxplots indicator containing values   multiple areas time","code":""},{"path":[]},{"path":"/reference/box_plots.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a series of boxplots — box_plots","text":"","code":"library(dplyr) df <- create_test_data()  df_box <- df %>%         filter(AreaType == \"Local\") %>%         arrange(IndicatorName) %>%         mutate(Timeperiod = rep(c(\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"),                                 each = 100)) p <- box_plots(df_box,                timeperiod = Timeperiod,                value = Value,                title = \"Title of chart\",                subtitle = \"Boxplot over time\",                ylab = \"Proportion (%)\")"},{"path":"/reference/compare_areas.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot compare areas chart — compare_areas","title":"Plot compare areas chart — compare_areas","text":"Returns ggplot compare areas chart","code":""},{"path":"/reference/compare_areas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot compare areas chart — compare_areas","text":"","code":"compare_areas(   data,   area,   value,   lowerci,   upperci,   fill,   order = \"desc\",   top_areas,   title = \"\",   xlab = \"\",   ylab = \"\",   legend.position = \"bottom\",   display.values = FALSE,   dps = 1 )"},{"path":"/reference/compare_areas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot compare areas chart — compare_areas","text":"data data.frame tibble fed ggplot functions. object contain fields used arguments within function area unquoted field name field containing area variable plotted y axis value unquoted field name field containing value variable plotted x axis lowerci unquoted field name field containing variable plotted lower confidence interval (optional) upperci unquoted field name field containing variable plotted upper confidence interval (optional) fill unquoted field name field used determine colouring bars; usually reflecting significance. values values can used field predetermined colours : 'Better', 'Higher', 'Similar', 'Lower', 'Worse', 'compared', 'None' order one \"alphabetical\", \"asc\" \"desc\" - determine order bars top_areas character vector; areas fix top chart. values must exist within area field data provided title string; title chart xlab string; x-axis title ylab string; y-axis title legend.position string; position legend (\"none\", \"left\", \"right\", \"bottom\", \"top\", two-element numeric vector) display.values logical; whether display rounded values next bars chart dps number; number decimal places displayed display.values = TRUE. default 1.","code":""},{"path":"/reference/compare_areas.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot compare areas chart — compare_areas","text":"ggplot compare areas chart","code":""},{"path":[]},{"path":"/reference/compare_areas.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot compare areas chart — compare_areas","text":"","code":"library(dplyr) df <- create_test_data() parent <- \"PAC11\" top_names <- c(\"C001\", parent) ordered_levels <- c(\"Better\",                     \"Similar\",                     \"Worse\",                     \"Not compared\") df_ca <- df %>%         filter(IndicatorName == \"Indicator 3\",                (AreaCode %in% top_names |                         ParentAreaCode == parent)) p <- compare_areas(df_ca, AreaCode, Value,                    fill = Significance,                    lowerci = LCI,                    upperci = UCI,                    order = \"desc\",                    top_areas = top_names,                    title = \"Compare the local areas\") p"},{"path":"/reference/compare_indicators.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot compare indicators plot — compare_indicators","title":"Plot compare indicators plot — compare_indicators","text":"Plot compare indicators plot","code":""},{"path":"/reference/compare_indicators.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot compare indicators plot — compare_indicators","text":"","code":"compare_indicators(   data,   x,   y,   xlab = \"\",   ylab = \"\",   point_size = 4,   highlight_area,   area,   add_R2 = FALSE )"},{"path":"/reference/compare_indicators.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot compare indicators plot — compare_indicators","text":"data data.frame tibble fed ggplot functions. object contain fields used arguments within function x unquoted field name field containing x variable y unquoted field name field containing y variable xlab string; x-axis title ylab string; y-axis title point_size number; size point highlight_area character vector; list areas highlighting. ares must area field data supplied area unquoted field name field containing areas. required highlight_area value (optional) add_R2 logical; R2 displayed?","code":""},{"path":"/reference/compare_indicators.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot compare indicators plot — compare_indicators","text":"ggplot object scatterplot comparing two indicators","code":""},{"path":[]},{"path":"/reference/compare_indicators.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot compare indicators plot — compare_indicators","text":"","code":"library(tidyr) library(dplyr) df <- create_test_data()  df_ci <- df %>%         filter(IndicatorName %in% c(\"Indicator 1\", \"Indicator 3\")) %>%         select(IndicatorName, AreaCode, Value) %>%         pivot_wider(names_from = IndicatorName,                     values_from = Value) %>%         rename(Ind1 = `Indicator 1`,                Ind3 = `Indicator 3`) %>%         mutate(Ind2 = runif(nrow(.), min = Ind1 * 0.5, max = Ind1 * 1.5)) p <- compare_indicators(df_ci,                         x = Ind1,                         y = Ind3,                         xlab = \"Indicator 1 label\",                         ylab = \"Indicator 3 label\",                         highlight_area = c(\"C001\", \"AC172\"),                         area = AreaCode,                         add_R2 = TRUE) p"},{"path":"/reference/create_datatable.html","id":null,"dir":"Reference","previous_headings":"","what":"Data table supporting information — create_datatable","title":"Data table supporting information — create_datatable","text":"Returns data frame containing data sits next spine chart","code":""},{"path":"/reference/create_datatable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data table supporting information — create_datatable","text":"","code":"create_datatable(   data,   indicator,   area_code,   timeperiod,   trend,   count,   value,   local_area_code,   median_line_area_code,   comparator_area_code,   dps = 1,   header_width,   horizontal_arrow_multiplier )"},{"path":"/reference/create_datatable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data table supporting information — create_datatable","text":"data data frame create spine chart . data frame contain records area types included chart (eg, plotting County & UA comparator region median line national, data frame contain records data). minimum field requirements data frame ; value, count, area_code, indicator, timeperiod, polarity, significance, area_type. See definitions fields indicator unquoted field name field field containing indicator labels. Take care errors occur indicator labels data exist multiple sub-categories (example, sex age) area_code unquoted field name field area codes stored (local_area_code, median_line_area_code comparator_area_code, using, exist field) timeperiod unquoted field name field time period field. gets used accompanying data table trend unquoted field name field trend field; user want display trend information leave incomplete amend header_labels argument replacing \"Trend\" header \"\". Text within field contain one following words control arrows displayed; \"decreasing\", \"increasing\", \"significant change\", \"calculated\". text within field contain one following words control colour; \"better\", \"worse\", \"significant change\". none words appear string, words \"increasing\" \"decreasing\" used colour arrows different shades blue count unquoted field name field count (numerator) stored. provided accompanying data table value unquoted field name field containing values plotted local_area_code string; code area whose data presented median_line_area_code string; area code median line. Defaults \"E92000001\" (England) comparator_area_code string; area code comparator point. Defaults NA dps number decimal places use data table header_width x dimension chart used normalising arrow length horizonal horizontal_arrow_multiplier number scale horizontal trend arrows. value 1 shorten arrows","code":""},{"path":"/reference/create_datatable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Data table supporting information — create_datatable","text":"data frame containing information sits alongside spine   chart","code":""},{"path":"/reference/create_test_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Create test data — create_test_data","title":"Create test data — create_test_data","text":"Create dataset used tests (useful demo purposes )","code":""},{"path":"/reference/create_test_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create test data — create_test_data","text":"","code":"create_test_data()"},{"path":"/reference/create_test_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create test data — create_test_data","text":"dummy data.frame data","code":""},{"path":"/reference/create_test_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create test data — create_test_data","text":"","code":"df <- create_test_data()"},{"path":"/reference/ensure_ons_api_available.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if the given ONS json is available — ensure_ons_api_available","title":"Check if the given ONS json is available — ensure_ons_api_available","text":"Check given ONS json available","code":""},{"path":"/reference/ensure_ons_api_available.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if the given ONS json is available — ensure_ons_api_available","text":"","code":"ensure_ons_api_available(ons_api)"},{"path":"/reference/ensure_ons_api_available.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if the given ONS json is available — ensure_ons_api_available","text":"ons_api string; GeoJSON url shape file. can found ONS geography portal","code":""},{"path":"/reference/ensure_ons_api_available.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if the given ONS json is available — ensure_ons_api_available","text":"TRUE API available, otherwise error occur.","code":""},{"path":"/reference/fingertipscharts.html","id":null,"dir":"Reference","previous_headings":"","what":"fingertipscharts: A package for creating the visualisations displayed in Fingertips — fingertipscharts","title":"fingertipscharts: A package for creating the visualisations displayed in Fingertips — fingertipscharts","text":"fingertipscharts package provides one type function","code":""},{"path":"/reference/fingertipscharts.html","id":"quick-charts-functions","dir":"Reference","previous_headings":"","what":"quick charts functions","title":"fingertipscharts: A package for creating the visualisations displayed in Fingertips — fingertipscharts","text":"Easy produce Fingertips charts using   tidyverse syntax","code":""},{"path":"/reference/map.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a choropleth map for an indicator — map","title":"Plot a choropleth map for an indicator — map","text":"Plot choropleth map indicator","code":""},{"path":"/reference/map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a choropleth map for an indicator — map","text":"","code":"map(   data,   ons_api,   area_code,   fill,   type = \"static\",   value,   name_for_label,   title = \"\",   subtitle = \"\",   copyright_size = 4,   copyright_year = Sys.Date() )"},{"path":"/reference/map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a choropleth map for an indicator — map","text":"data data.frame tibble fed ggplot functions. object contain fields used arguments within function ons_api string; GeoJSON url shape file. can found ONS geography portal area_code field containing area codes join shape file imported ONS API fill unquoted field name field used determine colouring bars; usually reflecting significance. values values can used field predetermined colours : 'Better', 'Higher', 'Similar', 'Lower', 'Worse', 'compared', 'None' type string; output map required. Can \"static\" \"interactive\" value interactive map, unquoted field name field containing values used label polygons hovering name_for_label interactive map, unquoted field name field containing area names used label polygons - optional title string; title chart subtitle string; subtitle chart copyright_size number; used control size copyright text copyright_year number (length 4 characters) Date class; copyright year displayed bottom map. Applies static maps ","code":""},{"path":"/reference/map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a choropleth map for an indicator — map","text":"either static interactive ggplot choropleth map","code":""},{"path":[]},{"path":"/reference/map.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a choropleth map for an indicator — map","text":"","code":"if (FALSE) { ons_api <- \"https://opendata.arcgis.com/datasets/687f346f5023410ba86615655ff33ca9_4.geojson\"  p <- map(mapdata,          ons_api = ons_api,          area_code = AreaCode,          fill = Significance,          title = \"Map example\",          subtitle = \"An indicator for Upper Tier Local Authorities England\",          copyright_year = 2019)  p  ## For an interactive (leaflet) map p <- map(mapdata,          ons_api = ons_api,          area_code = AreaCode,          fill = Significance,          type = \"interactive\",          value = Value,          name_for_label = AreaName,          title = \"An indicator for Upper Tier<br>Local Authorities England\") p}"},{"path":"/reference/mapdata.html","id":null,"dir":"Reference","previous_headings":"","what":"Dummy data for Upper Tier Local Authorities so dummy maps can be produced — mapdata","title":"Dummy data for Upper Tier Local Authorities so dummy maps can be produced — mapdata","text":"dataset indicator values Upper Tier Local Authorities","code":""},{"path":"/reference/mapdata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dummy data for Upper Tier Local Authorities so dummy maps can be produced — mapdata","text":"","code":"mapdata"},{"path":"/reference/mapdata.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dummy data for Upper Tier Local Authorities so dummy maps can be produced — mapdata","text":"data frame 152 records 4 fields: AreaCode Office National Statistics area codes AreaName Office National Statistics area names Significance statistical significance area compared benchmark Value indicator value data","code":""},{"path":"/reference/overview.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot an overview (tartan rug) of multiple indicators — overview","title":"Plot an overview (tartan rug) of multiple indicators — overview","text":"Plot overview (tartan rug) multiple indicators","code":""},{"path":"/reference/overview.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot an overview (tartan rug) of multiple indicators — overview","text":"","code":"overview(   data,   area,   indicator,   value,   fill,   timeperiod,   top_areas,   wrap_length = 50,   value_label_size = 1,   legend_position = \"none\" )"},{"path":"/reference/overview.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot an overview (tartan rug) of multiple indicators — overview","text":"data data.frame tibble fed ggplot functions. object contain fields used arguments within function area unquoted field name field containing area names indicator unquoted field name field containing indicator names value unquoted field name field containing values indicators displayed fill unquoted field name field used determine colouring bars; usually reflecting significance. values values can used field predetermined colours : 'Better', 'Higher', 'Similar', 'Lower', 'Worse', 'compared', 'None' timeperiod unquoted field name field containing time period top_areas character vector; controls areas displayed top left hand side chart. values character vector must appear field represented area argument. Optional wrap_length number; maximum number characters indicator name displayed text wrapped next line value_label_size number; controls size label value legend_position position legends (\"none\", \"left\", \"right\", \"bottom\", \"top\", two-element numeric vector)","code":""},{"path":"/reference/overview.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot an overview (tartan rug) of multiple indicators — overview","text":"ggplot overview/tartan rug plot","code":""},{"path":[]},{"path":"/reference/overview.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot an overview (tartan rug) of multiple indicators — overview","text":"","code":"library(dplyr) df <- create_test_data()  parent <- \"PAC14\" top_names <- c(\"C001\", parent) df_over <- df %>%         filter((AreaCode %in% top_names |                         ParentAreaCode == parent)) %>%         mutate(Value = round(Value, 1)) p <- overview(df_over,               area = AreaCode,               indicator = IndicatorName,               value = Value,               timeperiod = Timeperiod,               fill = Significance,               top_areas = top_names,               wrap_length = 40,               value_label_size = 0.8) p"},{"path":"/reference/population.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot population pyramid — population","title":"Plot population pyramid — population","text":"Plot population pyramid","code":""},{"path":"/reference/population.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot population pyramid — population","text":"","code":"population(   data,   value,   sex,   age,   area,   area_name,   comparator_1,   comparator_2,   title,   subtitle,   xlab )"},{"path":"/reference/population.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot population pyramid — population","text":"data data.frame tibble fed ggplot functions. object contain fields used arguments within function value unquoted field name field containing population values age band sex unquoted field name field containing sex variable age unquoted field name field containing age band variable area unquoted field name field containing area names area_name string; name area display bars (exist field described area parameter) comparator_1 string; name comparator area (exist field described area parameter) comparator_2 string; name comparator area (exist field described area parameter) title string; title chart subtitle string; subtitle chart xlab string; x-axis title","code":""},{"path":"/reference/population.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot population pyramid — population","text":"ggplot population pyramid 2 optional comparators","code":""},{"path":[]},{"path":"/reference/population.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot population pyramid — population","text":"","code":"library(dplyr) agelevels <- c(\"0-4\", \"5-9\",\"10-14\",\"15-19\",                \"20-24\",\"25-29\",\"30-34\",                \"35-39\",\"40-44\",\"45-49\",                \"50-54\",\"55-59\",\"60-64\",                \"65-69\",\"70-74\",\"75-79\",                \"80-84\",\"85-89\",\"90+\") areas <- c(\"Area 1\", \"Area 2\", \"Area 3\") pops <- data.frame(Age = factor(rep(agelevels, length(areas) * 2),                                 levels = agelevels),                    Value = rep(sample(1000:3000, length(agelevels), replace = TRUE),                                length(areas) * 2),                    Sex = rep(rep(c(\"Male\", \"Female\"),                                  each = length(agelevels)), length(areas)),                    AreaName = rep(areas, each = length(agelevels) * 2))  p <- population(pops,                 value = Value,                 sex = Sex,                 age = Age,                 area = AreaName,                 area_name = \"Area 1\",                 comparator_1 = \"Area 3\",                 comparator_2 = \"Area 2\",                 title = \"Age Profile\",                 subtitle = \"2015/16\",                 xlab = \"% of total population\") p"},{"path":"/reference/round2.html","id":null,"dir":"Reference","previous_headings":"","what":"Proper rounding of values — round2","title":"Proper rounding of values — round2","text":"Proper rounding values","code":""},{"path":"/reference/round2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Proper rounding of values — round2","text":"","code":"round2(val, dps)"},{"path":"/reference/round2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Proper rounding of values — round2","text":"val numeric value round dps numeric, number decimal places","code":""},{"path":"/reference/round2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Proper rounding of values — round2","text":"function taken link (https://stackoverflow.com/questions/12688717/round---5)","code":""},{"path":"/reference/scale_fill_phe.html","id":null,"dir":"Reference","previous_headings":"","what":"Fingertips scale fill for ggplot2 — scale_fill_phe","title":"Fingertips scale fill for ggplot2 — scale_fill_phe","text":"Fingertips scale fill","code":""},{"path":"/reference/scale_fill_phe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fingertips scale fill for ggplot2 — scale_fill_phe","text":"","code":"scale_fill_phe(theme = \"fingertips\", ...)"},{"path":"/reference/scale_fill_phe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fingertips scale fill for ggplot2 — scale_fill_phe","text":"theme string; current options fingertips discrete scales ... inputs scale_manual (discrete values)","code":""},{"path":"/reference/spine_data_check.html","id":null,"dir":"Reference","previous_headings":"","what":"Check function for multiple values for an area in an indicator for spine chart — spine_data_check","title":"Check function for multiple values for an area in an indicator for spine chart — spine_data_check","text":"Check function multiple values area indicator spine chart","code":""},{"path":"/reference/spine_data_check.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check function for multiple values for an area in an indicator for spine chart — spine_data_check","text":"","code":"spine_data_check(data, indicator, area_code)"},{"path":"/reference/spine_data_check.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check function for multiple values for an area in an indicator for spine chart — spine_data_check","text":"data data frame create spine chart . data frame contain records area types included chart (eg, plotting County & UA comparator region median line national, data frame contain records data). minimum field requirements data frame ; value, count, area_code, indicator, timeperiod, polarity, significance, area_type. See definitions fields indicator unquoted field name field field containing indicator labels. Take care errors occur indicator labels data exist multiple sub-categories (example, sex age) area_code unquoted field name field area codes stored (local_area_code, median_line_area_code comparator_area_code, using, exist field)","code":""},{"path":"/reference/spine_preprocess.html","id":null,"dir":"Reference","previous_headings":"","what":"Preprocess  data for spine chart — spine_preprocess","title":"Preprocess  data for spine chart — spine_preprocess","text":"Returns data frame latest time period data indicator name.","code":""},{"path":"/reference/spine_preprocess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Preprocess  data for spine chart — spine_preprocess","text":"","code":"spine_preprocess(data, indicator, timeperiod_sortable)"},{"path":"/reference/spine_preprocess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Preprocess  data for spine chart — spine_preprocess","text":"data data frame create spine chart . data frame contain records area types included chart (eg, plotting County & UA comparator region median line national, data frame contain records data). minimum field requirements data frame ; value, count, area_code, indicator, timeperiod, polarity, significance, area_type. See definitions fields indicator unquoted field name indicators. presented label final spine chart, hence unique vertabra. careful indicator sub-categories based fields, sex (male, female, persons) age group timeperiod_sortable unquoted field name containing time period numeric sortable, higher values later time period","code":""},{"path":"/reference/spine_preprocess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Preprocess  data for spine chart — spine_preprocess","text":"processed data frame latest time periods given indicators","code":""},{"path":"/reference/spine_preprocess.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Preprocess  data for spine chart — spine_preprocess","text":"processing takes place indicator field time   period field provided. data contains multiple sexes age groups   indicator, make sure indicator field reflects .","code":""},{"path":"/reference/spine_rescaler.html","id":null,"dir":"Reference","previous_headings":"","what":"Rescale spine data — spine_rescaler","title":"Rescale spine data — spine_rescaler","text":"Rescales data can plotted spine chart","code":""},{"path":"/reference/spine_rescaler.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rescale spine data — spine_rescaler","text":"","code":"spine_rescaler(   data,   area_code,   indicator,   significance,   polarity,   area_type,   value,   timeperiod,   local_area_code,   median_line_area_code,   comparator_area_code = NA,   percent_display,   dps = 1 )"},{"path":"/reference/spine_rescaler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rescale spine data — spine_rescaler","text":"data data frame create spine chart . data frame contain records area types included chart (eg, plotting County & UA comparator region median line national, data frame contain records data). minimum field requirements data frame ; value, count, area_code, indicator, timeperiod, polarity, significance, area_type. See definitions fields area_code unquoted field name field area codes stored (local_area_code, median_line_area_code comparator_area_code, using, exist field) indicator unquoted field name field field containing indicator labels. Take care errors occur indicator labels data exist multiple sub-categories (example, sex age) significance unquoted field name field describing statistical significance indicator. determines colour point within spine area. Colours built following significances; 'Better', '', 'Worse', 'compared', 'None', 'Higher', 'Similar', 'Lower'. Use cols argument colour significance values polarity unquoted field name field containing polarity information (currently handles \"applicable\", \"RAG - Low good\", \"RAG - High good\", \"BOB - Blue orange blue\") area_type unquoted field name field containing area type information. ensures vertabra plotted area types local_area area type (eg, plotting spine chart County & UA areas, regions national area types removed) value unquoted field name field containing values plotted timeperiod unquoted field name field time period field. gets used accompanying data table local_area_code string; code area whose data presented median_line_area_code string; area code median line. Defaults \"E92000001\" (England) comparator_area_code string; area code comparator point. Defaults NA percent_display number 0 1; percentage values needs exist spine display. Default 0.25 dps number; number decimal places displayed data table. default 1. Set NA input data","code":""},{"path":"/reference/spine_rescaler.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rescale spine data — spine_rescaler","text":"list containing \"bars\" \"points\" contains data can   passed phe_spine_chart function","code":""},{"path":"/reference/theme_phe.html","id":null,"dir":"Reference","previous_headings":"","what":"Fingertips theme for ggplot2 — theme_phe","title":"Fingertips theme for ggplot2 — theme_phe","text":"fingertips theme","code":""},{"path":"/reference/theme_phe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fingertips theme for ggplot2 — theme_phe","text":"","code":"theme_phe(   theme = \"fingertips\",   base_size = 11,   base_family = \"\",   base_line_size = base_size/22,   base_rect_size = base_size/22 )"},{"path":"/reference/theme_phe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fingertips theme for ggplot2 — theme_phe","text":"theme string; theme chart, current fingertips base_size base font size base_family base font family base_line_size base size line elements base_rect_size base size rect elements","code":""},{"path":"/reference/trends.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot trend chart — trends","title":"Plot trend chart — trends","text":"Plot trend chart","code":""},{"path":"/reference/trends.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot trend chart — trends","text":"","code":"trends(   data,   timeperiod,   value,   area,   comparator,   area_name,   fill,   lowerci,   upperci,   title = \"\",   subtitle = \"\",   xlab = \"\",   ylab = \"\",   point_size = 4 )"},{"path":"/reference/trends.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot trend chart — trends","text":"data data.frame tibble fed ggplot functions. object contain fields used arguments within function timeperiod unquoted field name field containing time period value unquoted field name field containing value variable plotted x axis area unquoted field name field containing area names comparator string; name comparator area (value exist field described area parameter) area_name string; name area displayed (value exist field described area parameter) fill unquoted field name field used determine colouring bars; usually reflecting significance. values values can used field predetermined colours : 'Better', 'Higher', 'Similar', 'Lower', 'Worse', 'compared', 'None' lowerci unquoted field name field containing variable plotted lower confidence interval (optional) upperci unquoted field name field containing variable plotted upper confidence interval (optional) title string; title chart subtitle string; subtitle chart xlab string; x-axis title ylab string; y-axis title point_size number; size point","code":""},{"path":"/reference/trends.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot trend chart — trends","text":"ggplot trends indicator alongside comparator","code":""},{"path":[]},{"path":"/reference/trends.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot trend chart — trends","text":"","code":"library(dplyr) df <- create_test_data()  df_trend <- df %>%         arrange(IndicatorName) %>%         mutate(Timeperiod = rep(c(\"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\"),                                 each = 111)) p <- trends(df_trend,             timeperiod = Timeperiod,             value = Value,             area = AreaCode,             comparator = \"C001\",             area_name = \"AC142\",             fill = Significance,             lowerci = LCI,             upperci = UCI,             title = \"Trend compared to country\",             subtitle = \"For area AC142\",             xlab = \"Year\",             ylab = \"Value (%)\") p"},{"path":"/news/index.html","id":"fingertipscharts-0014","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.14","title":"fingertipscharts 0.0.14","text":"fixed bug map function caused change name variables long lat ons api","code":""},{"path":"/news/index.html","id":"fingertipscharts-0013","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.13","title":"fingertipscharts 0.0.13","text":"fixed bug map function removed dependency geojsonio","code":""},{"path":"/news/index.html","id":"fingertipscharts-0012","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.12","title":"fingertipscharts 0.0.12","text":"Improved documentation charting functions Fixed interactive map fill factor Improved messaging area_profiles() data issues Updated tests testthat edition 3 Adapted non-standard evaluation code use dplyr 1.0.0 sytax Graceful failure API resource unavailable impact CRAN tests","code":""},{"path":"/news/index.html","id":"fingertipscharts-0011-2020-06-05","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.11 (2020-06-05)","title":"fingertipscharts 0.0.11 (2020-06-05)","text":"CRAN release: 2020-06-05 trend argument added area_profiles() trends() function now displays area comparator key chart slight amendment compare_areas() map() functions giving users flexibility provide legend titles using + labs(fill = \"Blah\") function (see issue 16) overview() function now argument legend_position whose ordering controlled levels field assigned fill fixed bug allow users modify significance colours spine chart","code":""},{"path":"/news/index.html","id":"fingertipscharts-0010-2019-10-07","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.10 (2019-10-07)","title":"fingertipscharts 0.0.10 (2019-10-07)","text":"CRAN release: 2019-10-07 Unnecessary warning messages area_profiles() removed Fixed bug around ordering factors filling interactive maps","code":""},{"path":"/news/index.html","id":"fingertipscharts-009-2019-09-09","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.9 (2019-09-09)","title":"fingertipscharts 0.0.9 (2019-09-09)","text":"CRAN release: 2019-09-09 Added example area_profiles() show specify order indicators show domains Graceful fail ons_api provided map() function isn’t responding","code":""},{"path":"/news/index.html","id":"fingertipscharts-008-2019-07-18","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.8 (2019-07-18)","title":"fingertipscharts 0.0.8 (2019-07-18)","text":"CRAN release: 2019-07-18 updates user perspective","code":""},{"path":"/news/index.html","id":"fingertipscharts-007","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.7","title":"fingertipscharts 0.0.7","text":"updates user perspective","code":""},{"path":"/news/index.html","id":"fingertipscharts-006-2019-05-13","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.6 (2019-05-13)","title":"fingertipscharts 0.0.6 (2019-05-13)","text":"CRAN release: 2019-05-13 display.values argument added compare_areas() function - allowing users display values alongside bars chart","code":""},{"path":"/news/index.html","id":"fingertipscharts-005-2019-04-08","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.5 (2019-04-08)","title":"fingertipscharts 0.0.5 (2019-04-08)","text":"CRAN release: 2019-04-08 area_profiles() - users control number decimal places display non-count values (including different decimal places different indicators)","code":""},{"path":"/news/index.html","id":"fingertipscharts-004-2019-02-07","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.4 (2019-02-07)","title":"fingertipscharts 0.0.4 (2019-02-07)","text":"CRAN release: 2019-02-07 added copyright_year argument map function improved code coverage area_profiles() now display “Best/Highest” label better","code":""},{"path":"/news/index.html","id":"fingertipscharts-003-2018-12-12","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.3 (2018-12-12)","title":"fingertipscharts 0.0.3 (2018-12-12)","text":"CRAN release: 2018-12-13 Improved functionality area_profiles() accept field names IndicatorName Polarity two arguments","code":""},{"path":"/news/index.html","id":"fingertipscharts-002-2018-09-14","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.2 (2018-09-14)","title":"fingertipscharts 0.0.2 (2018-09-14)","text":"CRAN release: 2018-09-14 Added detail around area_profiles() function Added create_test_data()","code":""},{"path":"/news/index.html","id":"fingertipscharts-001","dir":"Changelog","previous_headings":"","what":"fingertipscharts 0.0.1","title":"fingertipscharts 0.0.1","text":"CRAN release: 2018-07-28 Due popular demand, fingertipscharts created help users create charts see Public Health England’s Fingertips website. accompanying vignette shows users potential functions browseVignettes(\"fingertipscharts\")","code":""}]
