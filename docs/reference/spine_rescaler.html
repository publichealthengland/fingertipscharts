<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Rescale spine data — spine_rescaler • fingertipscharts</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Rescale spine data — spine_rescaler"><meta property="og:description" content="Rescales data so it can be plotted on a spine chart"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fingertipscharts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/quick_charts.html">Producing charts available on Fingertips</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PublicHealthEngland/fingertipscharts/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Rescale spine data</h1>
    <small class="dont-index">Source: <a href="https://github.com/PublicHealthEngland/fingertipscharts/blob/HEAD/R/spine_chart_utils.R" class="external-link"><code>R/spine_chart_utils.R</code></a></small>
    <div class="hidden name"><code>spine_rescaler.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Rescales data so it can be plotted on a spine chart</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">spine_rescaler</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">area_code</span>,</span>
<span>  <span class="va">indicator</span>,</span>
<span>  <span class="va">significance</span>,</span>
<span>  <span class="va">polarity</span>,</span>
<span>  <span class="va">area_type</span>,</span>
<span>  <span class="va">value</span>,</span>
<span>  <span class="va">timeperiod</span>,</span>
<span>  <span class="va">local_area_code</span>,</span>
<span>  <span class="va">median_line_area_code</span>,</span>
<span>  comparator_area_code <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  <span class="va">percent_display</span>,</span>
<span>  dps <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>a data frame to create the spine chart from. The data frame
should contain records for all area types included in the chart (eg, if
plotting for County &amp; UA with a comparator of region and a median line for
national, the data frame should contain records for all of these data). The
minimum field requirements in the data frame are; value, count, area_code,
indicator, timeperiod, polarity, significance, area_type. See below for the
definitions of these fields</p></dd>


<dt>area_code</dt>
<dd><p>unquoted field name for the field where area codes are
stored (local_area_code, median_line_area_code and comparator_area_code, if
using, should all exist in this field)</p></dd>


<dt>indicator</dt>
<dd><p>unquoted field name for the field of the field containing
the indicator labels. Take care as errors will occur where indicator labels
are the same but data exist for multiple sub-categories (for example, sex
or age)</p></dd>


<dt>significance</dt>
<dd><p>unquoted field name for the field describing the
statistical significance for that indicator. This determines the colour of
the point within the spine for the area. Colours are built in for the
following significances; 'Better', 'Same', 'Worse', 'Not compared', 'None',
'Higher', 'Similar', 'Lower'. Use the cols argument to colour other
significance values</p></dd>


<dt>polarity</dt>
<dd><p>unquoted field name for the field containing the polarity
information (currently only handles "Not applicable", "RAG - Low is good",
"RAG - High is good", "BOB - Blue orange blue")</p></dd>


<dt>area_type</dt>
<dd><p>unquoted field name for the field containing area type
information. This ensures the vertabra are only plotted for the same area
types as the local_area area type (eg, when plotting a spine chart for
County &amp; UA areas, regions and national area types will be removed)</p></dd>


<dt>value</dt>
<dd><p>unquoted field name for the field containing the values to be
plotted</p></dd>


<dt>timeperiod</dt>
<dd><p>unquoted field name for the field of the time period field.
This gets used in the accompanying data table</p></dd>


<dt>local_area_code</dt>
<dd><p>string; the code of the area whose data is being
presented</p></dd>


<dt>median_line_area_code</dt>
<dd><p>string; area code for the median line. Defaults
to "E92000001" (England)</p></dd>


<dt>comparator_area_code</dt>
<dd><p>string; area code for the comparator point.
Defaults to NA</p></dd>


<dt>percent_display</dt>
<dd><p>number between 0 and 1; the percentage of values that
needs to exist for a spine to display. Default is 0.25</p></dd>


<dt>dps</dt>
<dd><p>number; number of decimal places to be displayed in the data
table. The default is 1. Set to NA if this should be the same as the input
data</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list containing "bars" and "points" which contains data that can be
  passed to the phe_spine_chart function</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sebastian Fox.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

